(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2904:function(e,s,t){Promise.resolve().then(t.bind(t,9790))},3515:function(e,s,t){"use strict";t.r(s),t.d(s,{AuthContext:function(){return n},AuthProvider:function(){return d},useAuth:function(){return c}});var a=t(7437),r=t(2265);let n=(0,r.createContext)(void 0);function c(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function d(e){let{children:s}=e,[t,c]=(0,r.useState)(null),[d,i]=(0,r.useState)(!0),[l,o]=(0,r.useState)(null),x="https://bgwvyurbv4.execute-api.us-east-1.amazonaws.com/prod";(0,r.useEffect)(()=>{m()},[]);let m=async()=>{try{i(!0);let e=await fetch("".concat(x,"/auth/me"),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors"});if(e.ok){let s=await e.json();c(s.user)}else c(null)}catch(e){console.error("Auth check failed:",e),c(null)}finally{i(!1)}},h=async(e,s)=>{try{o(null),i(!0);let t=await fetch("".concat(x,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({email:e,password:s})}),a=await t.json();if(!t.ok)throw Error(a.error||"Login failed");c(a.user)}catch(s){let e=s instanceof Error?s.message:"Login failed";throw o(e),Error(e)}finally{i(!1)}},u=async()=>{try{i(!0),await fetch("".concat(x,"/auth/logout"),{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors"}),c(null)}catch(e){console.error("Logout failed:",e),c(null)}finally{i(!1)}};return(0,a.jsx)(n.Provider,{value:{user:t,login:h,logout:u,isLoading:d,error:l},children:s})}},2888:function(e,s,t){"use strict";t.d(s,{a:function(){return n}});var a=t(2265),r=t(3515);function n(){let e=(0,a.useContext)(r.AuthContext);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9790:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return M}});var a=t(7437),r=t(2265),n=t(2888),c=t(4033);function d(e){let{children:s}=e,{user:t,isLoading:d}=(0,n.a)(),i=(0,c.useRouter)();return((0,r.useEffect)(()=>{d||t||i.push("/login")},[t,d,i]),d)?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-secondary-50 to-primary-100 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("div",{className:"w-8 h-8 bg-primary-600 rounded-full animate-pulse"})}),(0,a.jsx)("p",{className:"text-secondary-600",children:"Loading..."})]})}):t?(0,a.jsx)(a.Fragment,{children:s}):null}var i=t(4301),l=t(8957),o=t(6142),x=t(3523),m=t(6141),h=t(4280),u=t(3021),j=t(2369),v=t(9409),g=t(5883);let p=[{code:"phoenix",name:"Phoenix",timezone:"MST"},{code:"denver",name:"Denver",timezone:"MST"},{code:"atlanta",name:"Atlanta",timezone:"EST"},{code:"chicago",name:"Chicago",timezone:"CST"}];function y(e){let{selectedSite:s,onSiteChange:t,lastUpdated:c,isRefreshing:d,onRefresh:y}=e,{logout:N}=(0,n.a)(),[b,f]=(0,r.useState)(!1),[w,_]=(0,r.useState)(!1),k=p.find(e=>e.code===s)||p[0];return(0,a.jsxs)("header",{className:"bg-white shadow-lg border-b border-secondary-200",children:[(0,a.jsx)("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)(l.Z,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-secondary-900",children:"Sales Dashboard"}),(0,a.jsx)("p",{className:"text-sm text-secondary-600",children:"Real-time Performance Tracking"})]})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>f(!b),className:"flex items-center space-x-2 px-4 py-2 bg-secondary-50 hover:bg-secondary-100 rounded-lg transition-colors duration-200 border border-secondary-200",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 text-secondary-600"}),(0,a.jsx)("span",{className:"font-medium text-secondary-900",children:k.name}),(0,a.jsx)("span",{className:"text-xs text-secondary-500 bg-secondary-200 px-2 py-1 rounded",children:k.timezone}),(0,a.jsx)(x.Z,{className:"h-4 w-4 text-secondary-600 transition-transform duration-200 ".concat(b?"rotate-180":"")})]}),b&&(0,a.jsx)("div",{className:"absolute top-full left-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-secondary-200 z-50",children:(0,a.jsx)("div",{className:"py-2",children:p.map(e=>(0,a.jsxs)("button",{onClick:()=>{t(e.code),f(!1)},className:"w-full text-left px-4 py-2 hover:bg-secondary-50 transition-colors duration-200 flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-medium",children:e.name}),(0,a.jsx)("span",{className:"text-xs text-secondary-500",children:e.timezone})]},e.code))})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-2 bg-success-50 rounded-lg border border-success-200",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-success-500 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-sm font-medium text-success-700",children:"LIVE"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"hidden sm:flex items-center space-x-2 text-sm text-secondary-600",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{suppressHydrationWarning:!0,children:["Updated ",(0,i.Z)(c,"HH:mm:ss")]})]}),(0,a.jsxs)("button",{onClick:y,disabled:d,className:"flex items-center space-x-2 px-3 py-2 bg-primary-50 hover:bg-primary-100 text-primary-700 rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed border border-primary-200",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 ".concat(d?"animate-spin":"")}),(0,a.jsx)("span",{className:"hidden sm:inline font-medium",children:d?"Refreshing...":"Refresh"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>_(!w),className:"relative p-2 text-secondary-600 hover:text-secondary-900 hover:bg-secondary-100 rounded-lg transition-colors duration-200",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-danger-500 rounded-full"})]}),w&&(0,a.jsxs)("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-secondary-200 z-50",children:[(0,a.jsx)("div",{className:"p-4 border-b border-secondary-200",children:(0,a.jsx)("h3",{className:"font-semibold text-secondary-900",children:"Notifications"})}),(0,a.jsxs)("div",{className:"max-h-64 overflow-y-auto",children:[(0,a.jsx)("div",{className:"p-4 hover:bg-secondary-50 border-b border-secondary-100",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-success-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(j.Z,{className:"h-4 w-4 text-success-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-secondary-900",children:"Sarah Johnson moved to #1!"}),(0,a.jsx)("p",{className:"text-xs text-secondary-600 mt-1",children:"2 minutes ago"})]})]})}),(0,a.jsx)("div",{className:"p-4 hover:bg-secondary-50 border-b border-secondary-100",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(l.Z,{className:"h-4 w-4 text-primary-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-secondary-900",children:"New daily record set!"}),(0,a.jsx)("p",{className:"text-xs text-secondary-600 mt-1",children:"5 minutes ago"})]})]})}),(0,a.jsx)("div",{className:"p-4 text-center",children:(0,a.jsx)("button",{className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"View all notifications"})})]})]})]}),(0,a.jsx)("button",{className:"p-2 text-secondary-600 hover:text-secondary-900 hover:bg-secondary-100 rounded-lg transition-colors duration-200",children:(0,a.jsx)(v.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("button",{onClick:N,className:"flex items-center space-x-2 px-3 py-2 bg-danger-50 hover:bg-danger-100 text-danger-700 rounded-lg transition-colors duration-200 border border-danger-200",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline font-medium",children:"Logout"})]})]})]})}),(0,a.jsx)("div",{className:"sm:hidden px-4 pb-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 text-secondary-600"}),(0,a.jsx)("span",{className:"font-medium text-secondary-900",children:k.name}),(0,a.jsx)("span",{className:"text-xs text-secondary-500 bg-secondary-200 px-2 py-1 rounded",children:k.timezone})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-secondary-600",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{suppressHydrationWarning:!0,children:(0,i.Z)(c,"HH:mm")})]})]})}),(b||w)&&(0,a.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>{f(!1),_(!1)}})]})}var N=t(9163),b=t(2505),f=t(5790),w=t(4522),_=t(9224);function k(e){let{rank:s,size:t="md"}=e;return(0,a.jsx)("div",{className:"".concat({sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-10 h-10 text-base"}[t]," rounded-full flex items-center justify-center font-bold ").concat(1===s?"bg-gradient-to-br from-yellow-400 to-yellow-600 text-white rank-badge-gold":2===s?"bg-gradient-to-br from-gray-300 to-gray-500 text-white rank-badge-silver":3===s?"bg-gradient-to-br from-amber-600 to-amber-800 text-white rank-badge-bronze":s<=5?"bg-gradient-to-br from-primary-500 to-primary-600 text-white":s<=10?"bg-gradient-to-br from-secondary-400 to-secondary-600 text-white":"bg-secondary-200 text-secondary-700"),children:s<=3?1===s?(0,a.jsx)(l.Z,{className:"h-4 w-4"}):2===s?(0,a.jsx)(N.Z,{className:"h-4 w-4"}):3===s?(0,a.jsx)(b.Z,{className:"h-4 w-4"}):null:s})}function S(e){let{rankDelta:s,movement:t}=e;if(!s||0===s)return null;let r=s>0,n=s<0;return(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-xs font-medium ".concat(r?"text-success-600":n?"text-danger-600":"text-secondary-500"),children:[r&&(0,a.jsx)(f.Z,{className:"h-3 w-3"}),n&&(0,a.jsx)(w.Z,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:[r?"+":"",s]})]})}function C(e){let{agents:s,loading:t,error:n,highlightedAgentId:c,onAgentSelect:d,updatedAt:i,isRefreshing:o}=e,[u,j]=(0,r.useState)("rank"),[v,g]=(0,r.useState)("asc"),p=e=>{u===e?g("asc"===v?"desc":"asc"):(j(e),g("asc"))},y=[...s].sort((e,s)=>{let t=e[u],a=s[u];if("number"==typeof t&&"number"==typeof a)return"asc"===v?t-a:a-t;let r=String(t||"").toLowerCase(),n=String(a||"").toLowerCase();return"asc"===v?r.localeCompare(n):n.localeCompare(r)}),N=e=>{let{field:s}=e;return u!==s?(0,a.jsx)(_.Z,{className:"h-4 w-4 text-secondary-400"}):"asc"===v?(0,a.jsx)(_.Z,{className:"h-4 w-4 text-secondary-600"}):(0,a.jsx)(x.Z,{className:"h-4 w-4 text-secondary-600"})};return t?(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-secondary-200 overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 bg-white border-b border-secondary-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(l.Z,{className:"h-5 w-5 text-yellow-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-secondary-900",children:"Live Leaderboard"}),(0,a.jsxs)("span",{className:"text-xs px-2 py-1 rounded bg-orange-100 text-orange-700",children:[s.length," Agents"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-secondary-600",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{suppressHydrationWarning:!0,className:"text-xs px-2 py-1 rounded bg-blue-100 text-secondary-700",children:["Updated ",i?new Date(i).toLocaleTimeString():new Date().toLocaleTimeString()]}),(0,a.jsx)(h.Z,{className:"h-4 w-4 ".concat(o?"text-orange-600 animate-spin":"text-orange-500")})]})]}),(0,a.jsx)("div",{className:"space-y-4 p-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsx)("div",{className:"animate-pulse",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4 p-4",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-secondary-200 rounded-full"}),(0,a.jsx)("div",{className:"w-10 h-10 bg-secondary-200 rounded-full"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-secondary-200 rounded w-32"}),(0,a.jsx)("div",{className:"h-3 bg-secondary-200 rounded w-24"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-secondary-200 rounded w-16"}),(0,a.jsx)("div",{className:"h-3 bg-secondary-200 rounded w-12"})]})]})},s))})]}):n?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"text-danger-600 mb-2",children:"Failed to load leaderboard"}),(0,a.jsx)("div",{className:"text-sm text-secondary-600",children:n.message})]}):s.length?(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-secondary-200 overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 bg-white border-b border-secondary-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(l.Z,{className:"h-5 w-5 text-yellow-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-secondary-900",children:"Live Leaderboard"}),(0,a.jsxs)("span",{className:"text-xs px-2 py-1 rounded bg-orange-100 text-orange-700",children:[s.length," Agents"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-secondary-600",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{suppressHydrationWarning:!0,className:"text-xs px-2 py-1 rounded bg-blue-100 text-secondary-700",children:["Updated ",i?new Date(i).toLocaleTimeString():new Date().toLocaleTimeString()]}),(0,a.jsx)(h.Z,{className:"h-4 w-4 ".concat(o?"text-orange-600 animate-spin":"text-orange-500")})]})]}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-secondary-50 to-secondary-100 border-b-2 border-secondary-300 px-6 py-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-4 items-center text-sm font-semibold text-secondary-700 uppercase tracking-wide",children:[(0,a.jsx)("div",{className:"col-span-1",children:(0,a.jsxs)("button",{onClick:()=>p("rank"),className:"flex items-center space-x-1 hover:text-secondary-900 transition-colors duration-200",children:[(0,a.jsx)("span",{children:"Rank"}),(0,a.jsx)(N,{field:"rank"})]})}),(0,a.jsx)("div",{className:"col-span-3",children:(0,a.jsxs)("button",{onClick:()=>p("name"),className:"flex items-center space-x-1 hover:text-secondary-900 transition-colors duration-200",children:[(0,a.jsx)("span",{children:"Agent"}),(0,a.jsx)(N,{field:"name"})]})}),(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsxs)("button",{onClick:()=>p("sales"),className:"flex items-center space-x-1 hover:text-secondary-900 transition-colors duration-200",children:[(0,a.jsx)("span",{children:"Sales"}),(0,a.jsx)(N,{field:"sales"})]})}),(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsx)("span",{children:"Weekly Bonus"})}),(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsx)("span",{children:"Monthly Bonus"})}),(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsxs)("button",{onClick:()=>p("satisfaction"),className:"flex items-center space-x-1 hover:text-secondary-900 transition-colors duration-200",children:[(0,a.jsx)("span",{children:"Rating"}),(0,a.jsx)(N,{field:"satisfaction"})]})})]})}),(0,a.jsx)("div",{className:"divide-y divide-secondary-200",children:y.map((e,s)=>{var t,r,n;let i=e.agent_id===c,l=e.rank<=3;return(0,a.jsxs)("div",{onClick:()=>null==d?void 0:d(e.agent_id),className:"leaderboard-row grid grid-cols-12 gap-4 items-center p-6 transition-all duration-200 ".concat(i?"bg-primary-50 border-l-4 border-primary-500":"hover:bg-secondary-50"," ").concat(l?"bg-gradient-to-r from-yellow-50 to-transparent":""," ").concat(d?"cursor-pointer":""),children:[(0,a.jsx)("div",{className:"col-span-1",children:(0,a.jsx)(k,{rank:e.rank})}),(0,a.jsx)("div",{className:"col-span-3",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("img",{src:e.avatar_url||"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(e.name),"&background=ed7420&color=fff"),alt:e.name,className:"w-10 h-10 rounded-full border-2 border-white shadow-sm"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold text-secondary-900",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-secondary-600",children:e.site||"phoenix"})]})]})}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("div",{className:"font-semibold text-secondary-900",children:e.sales}),(0,a.jsxs)("div",{className:"text-sm text-secondary-600",children:["$",(null===(t=e.revenue)||void 0===t?void 0:t.toFixed(0))||0," revenue"]})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsxs)("div",{className:"font-semibold text-green-600",children:["$",e.weekly_bonus||0]}),(0,a.jsxs)("div",{className:"text-sm text-secondary-600",children:[e.weekly_sales||0," sales"]})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsxs)("div",{className:"font-semibold text-blue-600",children:["$",e.monthly_bonus||0]}),(0,a.jsxs)("div",{className:"text-sm text-secondary-600",children:[(null===(r=e.monthly_daily_avg)||void 0===r?void 0:r.toFixed(1))||"0.0"," avg/day"]})]}),(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold text-secondary-900",children:(null===(n=e.satisfaction)||void 0===n?void 0:n.toFixed(1))||"0.0"}),(0,a.jsx)("div",{className:"text-sm text-secondary-600",children:"customer rating"})]}),(0,a.jsx)(S,{rankDelta:e.delta||0,movement:e.movement})]})})]},e.agent_id)})})]}):(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-secondary-200 overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 bg-white border-b border-secondary-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(l.Z,{className:"h-5 w-5 text-yellow-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-secondary-900",children:"Live Leaderboard"}),(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-orange-100 text-orange-700",children:"0 Agents"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-secondary-600",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{suppressHydrationWarning:!0,className:"text-xs px-2 py-1 rounded bg-blue-100 text-secondary-700",children:["Updated ",i?new Date(i).toLocaleTimeString():new Date().toLocaleTimeString()]}),(0,a.jsx)(h.Z,{className:"h-4 w-4 ".concat(o?"text-orange-600 animate-spin":"text-orange-500")})]})]}),(0,a.jsx)("div",{className:"text-center py-8 text-secondary-600",children:"No agents found"})]})}var Z=t(1981);let D="https://bgwvyurbv4.execute-api.us-east-1.amazonaws.com/prod";class A extends Error{constructor(e,s,t){super(e),this.code=s,this.details=t,this.name="ApiError"}}function T(e){let{agent:s}=e,t="up"===s.trend_direction;return(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:shadow-md transition-shadow overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,a.jsx)("span",{className:"text-orange-600 font-semibold text-sm",children:s.agent_name.split(" ").map(e=>e[0]).join("")})}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 truncate",children:s.agent_name}),(0,a.jsx)("p",{className:"text-sm text-gray-500 truncate",children:s.agent_id.includes("@")?s.agent_id.split("@")[0]:s.agent_id})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap flex-shrink-0 ml-2 ".concat(t?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:[t?(0,a.jsx)(f.Z,{className:"w-3 h-3"}):(0,a.jsx)(w.Z,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:[s.score_change_percent>0?"+":"",Math.abs(s.score_change_percent)>=100?s.score_change_percent.toFixed(0):s.score_change_percent.toFixed(1),"%"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Current Score"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900",children:s.current_score.toFixed(1)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Score Change"}),(0,a.jsxs)("p",{className:"font-semibold ".concat(t?"text-green-600":"text-red-600"),children:[s.score_change>0?"+":"",s.score_change.toFixed(1)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Previous Score"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900",children:s.previous_score.toFixed(1)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Sales Change"}),(0,a.jsxs)("p",{className:"font-semibold ".concat(s.sales_change>=0?"text-green-600":"text-red-600"),children:[s.sales_change>0?"+":"",s.sales_change]})]})]})]})}function E(){let{data:e,loading:s,error:t}=function(e,s){let[t,a]=(0,r.useState)(null),[n,c]=(0,r.useState)(!1),[d,i]=(0,r.useState)(null),l=(0,r.useCallback)(async()=>{if(!e){console.log("⚠️ useApi: No endpoint provided");return}let s=Date.now();c(!0),i(null);try{let t=e.startsWith("/api/")?e:"".concat(D).concat(e.startsWith("/")?e:"/".concat(e));console.log("\uD83D\uDD04 API Request Started:",{endpoint:e,url:t,timestamp:new Date().toISOString(),apiBaseUrl:D});let r=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},mode:e.startsWith("/api/")?"same-origin":"cors"}),n=Date.now()-s;if(console.log("\uD83D\uDCE1 API Response Received:",{endpoint:e,status:r.status,statusText:r.statusText,duration:"".concat(n,"ms"),headers:Object.fromEntries(r.headers.entries())}),!r.ok){let s=await r.json().catch(()=>({}));throw console.error("❌ API Error Response:",{endpoint:e,status:r.status,statusText:r.statusText,errorData:s}),new A(s.message||"HTTP ".concat(r.status,": ").concat(r.statusText),r.status.toString(),s)}let c=await r.json();console.log("✅ API Success:",{endpoint:e,dataType:typeof c,dataKeys:c&&"object"==typeof c?Object.keys(c):"N/A",dataLength:Array.isArray(c)?c.length:"N/A",duration:"".concat(n,"ms"),result:c});let d=function(e,s){if(!s||"object"!=typeof s)return s;switch(e){case"/leaderboard":if(s.agents&&Array.isArray(s.agents))return{...s,leaders:s.agents.map(e=>({...e,weekly_sales:e.sales||0}))};break;case"/districts":if(s.districts&&Array.isArray(s.districts))return{...s,districts:s.districts}}return s}(e,c);console.log("\uD83D\uDD04 Transformed Data:",{endpoint:e,originalKeys:Object.keys(c),transformedKeys:d&&"object"==typeof d?Object.keys(d):"N/A",transformedData:d}),void 0!==d.data?(console.log("\uD83D\uDCE6 Setting data from transformedData.data:",d.data),a(d.data)):(console.log("\uD83D\uDCE6 Setting data directly from transformedData:",d),a(d))}catch(a){let t=Date.now()-s;console.error("❌ API Error for ".concat(e,":"),{error:a,duration:"".concat(t,"ms"),errorType:a instanceof Error?a.constructor.name:typeof a,errorMessage:a instanceof Error?a.message:String(a)}),a instanceof A?i(a):a instanceof Error?i(new A(a.message,"FETCH_ERROR")):i(new A("An unknown error occurred","UNKNOWN_ERROR"))}finally{c(!1),console.log("\uD83C\uDFC1 API Call Complete for ".concat(e))}},[e]),o=(0,r.useCallback)(async()=>{await l()},[l]);return(0,r.useEffect)(()=>{(null==s?void 0:s.autoFetch)!==!1&&l()},[l,...(null==s?void 0:s.dependencies)||[]]),{data:t,loading:n,error:d,refetch:o}}("/api/big-movers");if((0,r.useEffect)(()=>{console.log("\uD83C\uDFAF BigMovers Component State:",{data:e,loading:s,error:t,dataType:typeof e,dataKeys:e&&"object"==typeof e?Object.keys(e):"N/A"})},[e,s,t]),s)return(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-secondary-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(f.Z,{className:"w-5 h-5 text-orange-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-secondary-900",children:"Big Movers"})]}),(0,a.jsx)("div",{className:"animate-pulse h-4 w-20 bg-secondary-200 rounded"})]}),(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"animate-pulse",children:(0,a.jsx)("div",{className:"h-20 bg-gray-200 rounded-lg"})},e))})]});if(t){let e=(null==t?void 0:t.code)||"",s="504"===e?"Endpoint request timed out. Please try again later.":(null==e?void 0:e.startsWith("5"))?"Server error. Please try again shortly.":"Failed to load big movers data.";return(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-secondary-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)(f.Z,{className:"w-5 h-5 text-orange-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-secondary-900",children:"Big Movers"})]}),(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(Z.Z,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:s})]})]})}let n=[...(null==e?void 0:e.positive_movers)||[],...(null==e?void 0:e.negative_movers)||[]].sort((e,s)=>Math.abs(s.score_change)-Math.abs(e.score_change)).slice(0,3);return(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-secondary-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(f.Z,{className:"w-5 h-5 text-orange-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-secondary-900",children:"Big Movers"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["Last ",(null==e?void 0:e.period_days)||7," days"]})]})]}),0===n.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(f.Z,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No significant rank changes yet"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Check back later for performance updates"})]}):(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:"Top 3 Big Movers"}),(0,a.jsx)("div",{className:"space-y-3",children:n.map(e=>(0,a.jsx)(T,{agent:e},e.agent_id))})]})})]})}var F=t(2245),L=t(6654),R=t(5750);function P(e){var s,t,r,n,c,d,i,o,x,m,h,u,j;let{district:v,rank:g,isTopPerformer:p}=e,y=v.current_stats.active_agents/v.current_stats.total_agents*100;return(0,a.jsxs)("div",{className:"card transition-all duration-200 hover:shadow-lg ".concat(p?"ring-2 ring-primary-500 bg-gradient-to-br from-primary-50 to-white":""),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center font-bold text-white ".concat(1===g?"bg-gradient-to-br from-yellow-400 to-yellow-600":2===g?"bg-gradient-to-br from-gray-300 to-gray-500":3===g?"bg-gradient-to-br from-amber-600 to-amber-800":"bg-gradient-to-br from-secondary-400 to-secondary-600"),children:[1===g&&(0,a.jsx)(l.Z,{className:"h-5 w-5"}),2===g&&(0,a.jsx)(b.Z,{className:"h-5 w-5"}),3===g&&(0,a.jsx)(F.Z,{className:"h-5 w-5"}),g>3&&g]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-lg text-secondary-900",children:v.site}),(0,a.jsxs)("p",{className:"text-sm text-secondary-600",children:[v.agent_count," agents • Rank #",g]})]})]}),(0,a.jsxs)("div",{className:"px-3 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:["Score: ",v.current_stats.total_score.toFixed(1)]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"metric-card",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)(L.Z,{className:"h-4 w-4 text-primary-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-secondary-600",children:"Total Sales"})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-secondary-900",children:v.current_stats.total_sales}),(0,a.jsxs)("div",{className:"text-xs text-secondary-500",children:[(null===(s=v.current_stats.avg_sales_per_agent)||void 0===s?void 0:s.toFixed(1))||"0.0"," avg per agent"]})]}),(0,a.jsxs)("div",{className:"metric-card",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)(f.Z,{className:"h-4 w-4 text-success-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-secondary-600",children:"Score"})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:(null===(t=v.current_stats.total_score)||void 0===t?void 0:t.toFixed(1))||"0.0"}),(0,a.jsxs)("div",{className:"text-xs text-secondary-500",children:[(null===(r=v.current_stats.average_score)||void 0===r?void 0:r.toFixed(1))||"0.0"," avg per agent"]})]}),(0,a.jsxs)("div",{className:"metric-card",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)(R.Z,{className:"h-4 w-4 text-secondary-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-secondary-600",children:"Team Size"})]}),(0,a.jsxs)("div",{className:"text-xl font-bold text-secondary-900",children:[v.current_stats.active_agents,"/",v.current_stats.total_agents]}),(0,a.jsxs)("div",{className:"text-xs text-secondary-500",children:[y.toFixed(0),"% active"]})]}),(0,a.jsxs)("div",{className:"metric-card",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4 text-yellow-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-secondary-600",children:"Revenue"})]}),(0,a.jsxs)("div",{className:"text-xl font-bold text-secondary-900",children:["$",(null===(n=v.current_stats.total_revenue)||void 0===n?void 0:n.toFixed(0))||"0"]}),(0,a.jsxs)("div",{className:"text-xs text-secondary-500",children:["Avg Score: ",(null===(c=v.current_stats.average_score)||void 0===c?void 0:c.toFixed(1))||"0.0"]})]})]}),v.top_performers&&v.top_performers.length>0&&(0,a.jsx)("div",{className:"border-t border-secondary-200 pt-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-secondary-600 mb-1",children:"Top Performer"}),(0,a.jsx)("div",{className:"font-semibold text-secondary-900",children:v.top_performers[0].agent_name})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-primary-600",children:v.top_performers[0].score.toFixed(1)}),(0,a.jsx)("div",{className:"text-xs text-secondary-500",children:v.top_performers[0].team})]})]})}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-secondary-200",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-secondary-600 mb-1",children:"SPCC"}),(0,a.jsx)("div",{className:"font-semibold text-secondary-900",children:((null===(d=v.current_stats)||void 0===d?void 0:d.avg_spcc)||0).toFixed(2)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-secondary-600 mb-1",children:"Connect %"}),(0,a.jsxs)("div",{className:"font-semibold text-secondary-900",children:[(100*((null===(i=v.current_stats)||void 0===i?void 0:i.avg_connect_rate)||0)).toFixed(0),"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-secondary-600 mb-1",children:"Efficiency"}),(0,a.jsx)("div",{className:"font-semibold ".concat((null===(o=v.performance_grade)||void 0===o?void 0:o.startsWith("A"))?"text-success-600":(null===(x=v.performance_grade)||void 0===x?void 0:x.startsWith("B"))?"text-primary-600":(null===(m=v.performance_grade)||void 0===m?void 0:m.startsWith("C"))?"text-warning-600":"text-danger-600"),children:(null===(h=v.performance_grade)||void 0===h?void 0:h.startsWith("A"))?"High":(null===(u=v.performance_grade)||void 0===u?void 0:u.startsWith("B"))?"Good":(null===(j=v.performance_grade)||void 0===j?void 0:j.startsWith("C"))?"Fair":"Low"})]})]})})]})}function W(){return(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)("div",{className:"card animate-pulse",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-secondary-200 rounded-lg"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-5 bg-secondary-200 rounded w-24"}),(0,a.jsx)("div",{className:"h-4 bg-secondary-200 rounded w-32"})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-secondary-200 rounded w-20"}),(0,a.jsx)("div",{className:"h-6 bg-secondary-200 rounded w-16"}),(0,a.jsx)("div",{className:"h-3 bg-secondary-200 rounded w-24"})]},s))})]},s))})}function z(e){let{data:s,loading:t}=e;if(t)return(0,a.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-secondary-200 p-6",children:(0,a.jsx)(W,{})});if(!s||!s.districts||0===s.districts.length)return(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-secondary-200 p-6 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-secondary-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(R.Z,{className:"h-8 w-8 text-secondary-400"})}),(0,a.jsx)("div",{className:"text-lg font-medium text-secondary-900 mb-2",children:"No District Data Available"}),(0,a.jsx)("div",{className:"text-sm text-secondary-600",children:"District performance data will appear here once agents start logging activity."})]});let r=[...s.districts].sort((e,s)=>s.current_stats.total_score-e.current_stats.total_score),n=r[0];return(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-secondary-200 p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(R.Z,{className:"h-5 w-5 text-orange-600"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-secondary-900",children:"District Battle"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"card text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-secondary-900",children:s.districts.length}),(0,a.jsx)("div",{className:"text-sm text-secondary-600",children:"Active Districts"})]}),(0,a.jsxs)("div",{className:"card text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:s.districts.reduce((e,s)=>e+s.current_stats.total_sales,0)}),(0,a.jsx)("div",{className:"text-sm text-secondary-600",children:"Total Sales"})]}),(0,a.jsxs)("div",{className:"card text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-success-600",children:s.districts.reduce((e,s)=>e+s.current_stats.active_agents,0)}),(0,a.jsx)("div",{className:"text-sm text-secondary-600",children:"Active Agents"})]}),(0,a.jsxs)("div",{className:"card text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:(null==n?void 0:n.site)||"N/A"}),(0,a.jsx)("div",{className:"text-sm text-secondary-600",children:"Leading District"})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:r.map((e,s)=>(0,a.jsx)(P,{district:e,rank:s+1,isTopPerformer:0===s},e.site))})]})}var O=t(1298);let B="https://bgwvyurbv4.execute-api.us-east-1.amazonaws.com/prod";function M(){var e,s,t,c,i;let[o,x]=(0,r.useState)("phoenix"),[m,h]=(0,r.useState)(null),[u,v]=(0,r.useState)(null),[g,p]=(0,r.useState)(null),[N,b]=(0,r.useState)(!0),[f,w]=(0,r.useState)(!1),[_,k]=(0,r.useState)(new Date),{user:S}=(0,n.a)(),Z=async e=>{try{let e=(null==S?void 0:S.name)||"",s=(null==S?void 0:S.email)||"",[t,a]=await Promise.all([fetch("".concat(B,"/leaderboard"),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors"}),fetch("".concat(B,"/districts"),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors"})]);if(!t.ok)throw Error("Failed to fetch leaderboard");if(a.ok?p(await a.json()):p(null),e||s){let t=new URLSearchParams;e&&t.set("name",e),s&&t.set("email",s);let a=await fetch("".concat(B,"/me/by-name?").concat(t.toString()),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors"});a.ok?v(await a.json()):v(null)}else v(null);let r=await t.json();h(r),k(new Date)}catch(e){console.error("Error fetching data:",e)}finally{b(!1),w(!1)}};(0,r.useEffect)(()=>{Z(o)},[o]);let D=()=>{w(!0),Z(o)},A=e=>{x(e)};return N||!m?(0,a.jsx)(d,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-secondary-50 to-primary-100",children:[(0,a.jsx)(y,{selectedSite:o,onSiteChange:A,lastUpdated:_,isRefreshing:f,onRefresh:D}),(0,a.jsx)("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("div",{className:"w-8 h-8 bg-primary-600 rounded-full animate-pulse"})}),(0,a.jsx)("p",{className:"text-secondary-600",children:"Loading dashboard..."})]})})})]})}):(0,a.jsx)(d,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-secondary-50 to-primary-100",children:[(0,a.jsx)(y,{selectedSite:o,onSiteChange:A,lastUpdated:_,isRefreshing:f,onRefresh:D}),(0,a.jsx)("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-2xl shadow-md border border-secondary-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-secondary-600 mb-2",children:"Your Rank"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-secondary-900",children:(()=>{var e;let s=null==u?void 0:u.agent_id,t=null===(e=m.leaders.find(e=>e.agent_id===s))||void 0===e?void 0:e.rank;return t?"#".concat(t):"#--"})()}),(0,a.jsxs)("div",{className:"text-xs text-secondary-500",children:["of ",m.total_agents," agents"]})]}),(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-orange-50 border border-orange-300 flex items-center justify-center",children:(0,a.jsx)(l.Z,{className:"h-5 w-5 text-orange-600"})})]})}),(0,a.jsx)("div",{className:"bg-white rounded-2xl shadow-md border border-secondary-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-secondary-600 mb-2",children:"Your Sales"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-secondary-900",children:(null==u?void 0:u.current_stats.sales_count)||0}),(0,a.jsxs)("div",{className:"text-xs text-secondary-500",children:[(null==u?void 0:u.current_stats.calls_handled)||0," calls"]}),(0,a.jsxs)("div",{className:"text-xs text-secondary-500",children:["$",Number((null==u?void 0:u.current_stats.revenue_generated)||0).toFixed(0)]})]}),(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-green-50 border border-green-300 flex items-center justify-center",children:(0,a.jsx)(L.Z,{className:"h-5 w-5 text-green-600"})})]})}),(0,a.jsx)("div",{className:"bg-white rounded-2xl shadow-md border border-secondary-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-secondary-600 mb-2",children:"Your Bonuses"}),(0,a.jsxs)("div",{className:"text-3xl font-bold text-secondary-900 mb-1",children:["$",Number(((null==u?void 0:null===(e=u.bonus_info)||void 0===e?void 0:e.weekly_bonus)||0)+((null==u?void 0:null===(s=u.bonus_info)||void 0===s?void 0:s.monthly_bonus)||0)).toFixed(0)]}),(0,a.jsxs)("div",{className:"text-xs text-secondary-600",children:["$",(null==u?void 0:null===(t=u.bonus_info)||void 0===t?void 0:t.weekly_bonus)||0," weekly + $",(null==u?void 0:null===(c=u.bonus_info)||void 0===c?void 0:c.monthly_bonus)||0," monthly"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,a.jsx)("svg",{className:"h-4 w-4 text-success-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 17l6-6 4 4 7-7"})}),(0,a.jsx)("span",{className:"text-xs text-success-600 font-medium",children:(null==u?void 0:null===(i=u.bonus_info)||void 0===i?void 0:i.next_bonus_tier)?"Next bonus tier available":"No bonus tier available"})]})]}),(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-yellow-50 border border-yellow-300 flex items-center justify-center",children:(0,a.jsx)(O.Z,{className:"h-5 w-5 text-yellow-600"})})]})}),(0,a.jsx)("div",{className:"bg-white rounded-2xl shadow-md border border-secondary-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-secondary-600 mb-2",children:"Your Performance"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-secondary-900",children:Number((null==u?void 0:u.current_stats.customer_satisfaction)||0).toFixed(1)}),(0,a.jsx)("div",{className:"text-xs text-secondary-500",children:"Customer Rating"})]}),(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gray-100 border border-gray-300 flex items-center justify-center",children:(0,a.jsx)(j.Z,{className:"h-5 w-5 text-gray-600"})})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"xl:col-span-2",children:(0,a.jsx)(C,{agents:m.leaders.slice(0,20),loading:N,error:null,updatedAt:_,isRefreshing:f})}),(0,a.jsx)("div",{children:(0,a.jsx)(E,{})})]}),(0,a.jsx)("div",{children:(0,a.jsx)(z,{data:g,loading:N})})]})})]})})}}},function(e){e.O(0,[526,971,938,744],function(){return e(e.s=2904)}),_N_E=e.O()}]);