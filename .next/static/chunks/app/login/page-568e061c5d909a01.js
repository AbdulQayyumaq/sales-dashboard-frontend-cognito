(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{1296:function(){},2898:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),s=(e,t)=>{let r=(0,n.forwardRef)(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:d,...u},m)=>(0,n.createElement)("svg",{ref:m,...a,width:s,height:s,stroke:r,strokeWidth:l?24*Number(i)/Number(s):i,className:["lucide",`lucide-${o(e)}`,c].join(" "),...u},[...t.map(([e,t])=>(0,n.createElement)(e,t)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r}},1981:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2898).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6084:function(e,t,r){Promise.resolve().then(r.bind(r,9165))},3515:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthContext:function(){return d},AuthProvider:function(){return m},useAuth:function(){return u}});var n=r(7437),a=r(2265),o=r(4327);let s="https://salesgames-dashboard.auth.us-east-1.amazoncognito.com",i="62ua8j7k3svfqka13bv9f7kakm";function l(e){try{let t=e.split(".");if(3!==t.length)return null;let r=t[1],n=atob(r.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(n)}catch(e){return null}}async function c(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r),a="";return n.forEach(e=>{a+=String.fromCharCode(e)}),btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}let d=(0,a.createContext)(void 0);function u(){let e=(0,a.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function m(e){let{children:t}=e,[r,u]=(0,a.useState)(null),[m,h]=(0,a.useState)(!0),[p,f]=(0,a.useState)(null);(0,a.useEffect)(()=>{x()},[]);let x=async()=>{h(!0);try{let e=window.localStorage.getItem("access_token")||"",t=window.localStorage.getItem("id_token")||"";if(!e&&!t){u(null);return}let r=t?l(t):l(e);if(r){let e={id:String(r.sub||r.username||""),name:String(r.name||r.email||""),email:String(r.email||"")};u(e);let t=Number(r.exp||0);if(t){let e=Math.floor(Date.now()/1e3);setTimeout(()=>w(),Math.max((t-e-60)*1e3,5e3))}}else u(null)}finally{h(!1)}},w=async()=>{let e=window.localStorage.getItem("refresh_token")||"";if(!e)return;let t=s.replace(/\/$/,""),r=new URLSearchParams({grant_type:"refresh_token",client_id:i,refresh_token:e}),n=await fetch("".concat(t,"/oauth2/token"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r.toString()});if(n.ok){let e=await n.json(),t=e.access_token||"",r=e.id_token||"";t&&window.localStorage.setItem("access_token",t),r&&window.localStorage.setItem("id_token",r),x()}},y=async()=>{f(null);let e=s.replace(/\/$/,""),t=function(){let e=new Uint8Array(32);crypto.getRandomValues(e);let t="";return e.forEach(e=>{t+=("0"+e.toString(16)).slice(-2)}),t}(),r=await c(t);{window.localStorage.setItem("pkce_verifier",t);let n="".concat(e,"/oauth2/authorize?client_id=").concat(encodeURIComponent(i),"&redirect_uri=").concat(encodeURIComponent("http://localhost:3000/callback"),"&response_type=code&scope=").concat(encodeURIComponent("openid email profile"),"&code_challenge_method=S256&code_challenge=").concat(r);window.location.assign(n)}},g=async()=>{h(!0);{window.localStorage.removeItem("access_token"),window.localStorage.removeItem("id_token"),window.localStorage.removeItem("refresh_token"),window.localStorage.removeItem("pkce_verifier"),u(null);let e=s.replace(/\/$/,""),t="".concat(e,"/logout?client_id=").concat(encodeURIComponent(i),"&logout_uri=").concat(encodeURIComponent("http://localhost:3000"));window.location.assign(t)}h(!1)};return(0,n.jsx)(d.Provider,{value:{user:r,login:y,loginWithCredentials:async(e,t)=>{h(!0),f(null);try{let r=new o.AM({UserPoolId:"us-east-1_Ekr0Fg6xJ",ClientId:i}),n=new o.ws({Username:e,Pool:r}),a=new o.sD({Username:e,Password:t});await new Promise((e,t)=>{n.authenticateUser(a,{onSuccess:t=>{var r;let n=t.getAccessToken().getJwtToken(),a=t.getIdToken().getJwtToken(),o=(null===(r=t.getRefreshToken())||void 0===r?void 0:r.getToken())||"";n&&window.localStorage.setItem("access_token",n),a&&window.localStorage.setItem("id_token",a),o&&window.localStorage.setItem("refresh_token",o),e()},onFailure:e=>t(e),newPasswordRequired:()=>t(Error("New password required"))})}),await x()}catch(e){throw f((null==e?void 0:e.message)||"Login failed"),e}finally{h(!1)}},logout:g,isLoading:m,error:p},children:t})}},2888:function(e,t,r){"use strict";r.d(t,{a:function(){return o}});var n=r(2265),a=r(3515);function o(){let e=(0,n.useContext)(a.AuthContext);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9165:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var n=r(7437),a=r(2265),o=r(4033),s=r(2888),i=r(1981),l=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,l.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),d=(0,l.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),u=(0,l.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function m(){let[e,t]=(0,a.useState)(""),[r,l]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1),[p,f]=(0,a.useState)(""),[x,w]=(0,a.useState)(!1),{loginWithCredentials:y}=(0,s.a)(),g=(0,o.useRouter)(),k=async t=>{t.preventDefault(),f(""),w(!0);try{await y(e,r),g.push("/")}catch(e){f(e instanceof Error?e.message:"Login failed")}finally{w(!1)}};return(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-secondary-50 to-primary-100 flex items-center justify-center px-4",children:(0,n.jsxs)("div",{className:"max-w-md w-full",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[(0,n.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,n.jsx)("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,n.jsx)("h2",{className:"text-3xl font-bold text-secondary-900 mb-2",children:"Welcome Back"}),(0,n.jsx)("p",{className:"text-secondary-600",children:"Sign in to access your sales dashboard"})]}),(0,n.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsxs)("form",{onSubmit:k,className:"space-y-6",children:[p&&(0,n.jsxs)("div",{className:"bg-danger-50 border border-danger-200 rounded-lg p-4 flex items-center space-x-2",children:[(0,n.jsx)(i.Z,{className:"h-5 w-5 text-danger-600"}),(0,n.jsx)("span",{className:"text-danger-800 text-sm font-medium",children:p})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Email Address"}),(0,n.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full px-4 py-3 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200 placeholder-secondary-400",placeholder:"you@company.com"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-secondary-700 mb-2",children:"Password"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("input",{id:"password",type:m?"text":"password",value:r,onChange:e=>l(e.target.value),required:!0,className:"w-full px-4 py-3 pr-12 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200 placeholder-secondary-400",placeholder:"••••••••"}),(0,n.jsx)("button",{type:"button",onClick:()=>h(!m),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-secondary-400 hover:text-secondary-600 transition-colors duration-200",children:m?(0,n.jsx)(c,{className:"h-5 w-5"}):(0,n.jsx)(d,{className:"h-5 w-5"})})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-secondary-300 rounded"}),(0,n.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-secondary-600",children:"Remember me"})]}),(0,n.jsx)("a",{href:"#",className:"text-sm text-primary-600 hover:text-primary-500 font-medium",children:"Forgot password?"})]}),(0,n.jsx)("button",{type:"submit",disabled:x,className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white py-3 px-4 rounded-lg font-medium hover:from-primary-700 hover:to-primary-800 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",children:x?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u,{className:"h-5 w-5 animate-spin"}),(0,n.jsx)("span",{children:"Signing in..."})]}):(0,n.jsx)("span",{children:"Sign In"})})]})}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{})]}),(0,n.jsx)("div",{className:"text-center mt-6",children:(0,n.jsxs)("p",{className:"text-sm text-secondary-500",children:["Don't have an account?"," ",(0,n.jsx)("a",{href:"https://cervont.com/#contact",className:"text-primary-600 hover:text-primary-500 font-medium",target:"_blank",rel:"noopener noreferrer",children:"Contact your administrator"})]})})]})})}},4033:function(e,t,r){e.exports=r(5313)}},function(e){e.O(0,[378,971,938,744],function(){return e(e.s=6084)}),_N_E=e.O()}]);