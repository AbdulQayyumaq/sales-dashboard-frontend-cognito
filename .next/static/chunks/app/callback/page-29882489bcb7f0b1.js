(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[258],{9120:function(e,t,o){Promise.resolve().then(o.bind(o,5884))},5884:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return c}});var a=o(2265),n=o(4033);function c(){let e=(0,n.useRouter)();return(0,a.useEffect)(()=>{let t=window.location.hash,o=window.location.search,a=new URLSearchParams(t.replace(/^#/,"")),n=new URLSearchParams(o.replace(/^[?]/,"")).get("code")||"",c="https://salesgames-dashboard.auth.us-east-1.amazoncognito.com".replace(/\/$/,"");if(n){let t=window.localStorage.getItem("pkce_verifier")||"",o=new URLSearchParams({grant_type:"authorization_code",client_id:"62ua8j7k3svfqka13bv9f7kakm",code:n,redirect_uri:"http://localhost:3000/callback",code_verifier:t});fetch("".concat(c,"/oauth2/token"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:o.toString()}).then(async t=>{let o=await t.json(),a=o.access_token||"",n=o.id_token||"",c=o.refresh_token||"";a&&window.localStorage.setItem("access_token",a),n&&window.localStorage.setItem("id_token",n),c&&window.localStorage.setItem("refresh_token",c),e.replace("/")}).catch(()=>e.replace("/"))}else{let t=a.get("access_token")||"",o=a.get("id_token")||"",n=a.get("refresh_token")||"";t&&window.localStorage.setItem("access_token",t),o&&window.localStorage.setItem("id_token",o),n&&window.localStorage.setItem("refresh_token",n),e.replace("/")}},[e]),null}},4033:function(e,t,o){e.exports=o(5313)}},function(e){e.O(0,[971,938,744],function(){return e(e.s=9120)}),_N_E=e.O()}]);