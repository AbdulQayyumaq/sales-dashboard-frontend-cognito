"use strict";exports.id=540,exports.ids=[540],exports.modules={5540:(e,t,s)=>{s.d(t,{GetRoleCredentialsCommand:()=>$,SSOClient:()=>tr});var r=s(988),o=s(1530);let n=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),i={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var a=s(2770),c=s(4670);class d extends c.s{constructor(e){super(e),Object.setPrototypeOf(this,d.prototype)}}class p extends d{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,p.prototype)}}class u extends d{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,u.prototype)}}class l extends d{constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,l.prototype)}}class h extends d{constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,h.prototype)}}let m="accountId",f="client",g="error",y="httpError",S="httpQuery",P="message",v="roleName",E="smithy.ts.sdk.synthetic.com.amazonaws.sso",I="com.amazonaws.sso";var x=[0,I,"AccessTokenType",8,0],k=[0,I,"SecretAccessKeyType",8,0],A=[0,I,"SessionTokenType",8,0],R=[3,I,"AccountInfo",0,[m,"accountName","emailAddress"],[0,0,0]],b=[3,I,"GetRoleCredentialsRequest",0,[v,m,"accessToken"],[[0,{[S]:"role_name"}],[0,{[S]:"account_id"}],[()=>x,{httpHeader:"x-amz-sso_bearer_token"}]]],w=[3,I,"GetRoleCredentialsResponse",0,["roleCredentials"],[[()=>O,0]]],C=[-3,I,"InvalidRequestException",{[g]:f,[y]:400},[P],[0]];a.P.for(I).registerError(C,p);var D=[-3,I,"ResourceNotFoundException",{[g]:f,[y]:404},[P],[0]];a.P.for(I).registerError(D,u);var O=[3,I,"RoleCredentials",0,["accessKeyId","secretAccessKey","sessionToken","expiration"],[0,[()=>k,0],[()=>A,0],1]],F=[3,I,"RoleInfo",0,[v,m],[0,0]],G=[-3,I,"TooManyRequestsException",{[g]:f,[y]:429},[P],[0]];a.P.for(I).registerError(G,l);var M=[-3,I,"UnauthorizedException",{[g]:f,[y]:401},[P],[0]];a.P.for(I).registerError(M,h);var U=[-3,E,"SSOServiceException",0,[],[]];a.P.for(E).registerError(U,d);var q=[9,I,"GetRoleCredentials",{http:["GET","/federation/credentials",200]},()=>b,()=>w];class $ extends o.m.classBuilder().ep(i).m(function(e,t,s,o){return[(0,r.a)(s,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(q).build(){}var j=s(7383),T=s(2331),z=s(9029),H=s(9249),N=s(4797),K=s(5846),L=s(2774),V=s(1212),_=s(9043),B=s(608),Q=s(9161),X=s(1055),J=s(9810),W=s(3611),Y=s(1248),Z=s(5070),ee=s(1688),et=s(3303);let es=async(e,t,s)=>({operation:(0,ee.J)(t).operation,region:await (0,et.$)(e.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),er=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":case"ListAccountRoles":case"ListAccounts":case"Logout":t.push({schemeId:"smithy.api#noAuth"});break;default:t.push({schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})})}return t},eo=e=>Object.assign((0,Z.K)(e),{authSchemePreference:(0,et.$)(e.authSchemePreference??[])}),en={i8:"3.929.0"};var ei=s(6268),ea=s(7668),ec=s(4391),ed=s(5106),ep=s(3705),eu=s(6461),el=s(8633),eh=s(2912),em=s(4386),ef=s(5314),eg=s(1414),ey=s(4023),eS=s(5732),eP=s(5628),ev=s(7596),eE=s(1884),eI=s(1461),ex=s(6258),ek=s(1392),eA=s(5362),eR=s(2695),eb=s(7594),ew=s(8593),eC=s(229),eD=s(2751),eO=s(2945);let eF="required",eG="argv",eM="isSet",eU="booleanEquals",eq="error",e$="endpoint",ej="tree",eT="PartitionResult",ez="getAttr",eH={[eF]:!1,type:"string"},eN={[eF]:!0,default:!1,type:"boolean"},eK={ref:"Endpoint"},eL={fn:eU,[eG]:[{ref:"UseFIPS"},!0]},eV={fn:eU,[eG]:[{ref:"UseDualStack"},!0]},e_={},eB={fn:ez,[eG]:[{ref:eT},"supportsFIPS"]},eQ={ref:eT},eX={fn:eU,[eG]:[!0,{fn:ez,[eG]:[eQ,"supportsDualStack"]}]},eJ=[eL],eW=[eV],eY=[{ref:"Region"}],eZ={version:"1.0",parameters:{Region:eH,UseDualStack:eN,UseFIPS:eN,Endpoint:eH},rules:[{conditions:[{fn:eM,[eG]:[eK]}],rules:[{conditions:eJ,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:eq},{conditions:eW,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:eq},{endpoint:{url:eK,properties:e_,headers:e_},type:e$}],type:ej},{conditions:[{fn:eM,[eG]:eY}],rules:[{conditions:[{fn:"aws.partition",[eG]:eY,assign:eT}],rules:[{conditions:[eL,eV],rules:[{conditions:[{fn:eU,[eG]:[!0,eB]},eX],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:e_,headers:e_},type:e$}],type:ej},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:eq}],type:ej},{conditions:eJ,rules:[{conditions:[{fn:eU,[eG]:[eB,!0]}],rules:[{conditions:[{fn:"stringEquals",[eG]:[{fn:ez,[eG]:[eQ,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:e_,headers:e_},type:e$},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:e_,headers:e_},type:e$}],type:ej},{error:"FIPS is enabled but this partition does not support FIPS",type:eq}],type:ej},{conditions:eW,rules:[{conditions:[eX],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:e_,headers:e_},type:e$}],type:ej},{error:"DualStack is enabled but this partition does not support DualStack",type:eq}],type:ej},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:e_,headers:e_},type:e$}],type:ej}],type:ej},{error:"Invalid Configuration: Missing Region",type:eq}]},e0=new eC.$({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),e1=(e,t={})=>e0.get(e,()=>(0,eD.B)(eZ,{endpointParams:e,logger:t.logger}));eO.D.aws=ew.Iu;let e4=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??ek.G,base64Encoder:e?.base64Encoder??eA.s,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??e1,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??er,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new eP.VR},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new eE.o}],logger:e?.logger??new eI.v,protocol:e?.protocol??new ev.Q({defaultNamespace:"com.amazonaws.sso"}),serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??ex.e,utf8Decoder:e?.utf8Decoder??eR.$,utf8Encoder:e?.utf8Encoder??eb.G});var e3=s(3950),e2=s(6504),e6=s(4731);let e5=e=>{(0,e6.H)(process.version);let t=(0,e2.j)(e),s=()=>t().then(e3.j),r=e4(e);(0,ei.H)(process.version);let o={profile:e?.profile,logger:r.logger};return{...r,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,em.M)(ea.I,o),bodyLengthChecker:e?.bodyLengthChecker??ey.W,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,ec.kk)({serviceId:r.serviceId,clientVersion:en.i8}),maxAttempts:e?.maxAttempts??(0,em.M)(J.Hs,e),region:e?.region??(0,em.M)(ep._c,{...ep.zb,...o}),requestHandler:ef.N.create(e?.requestHandler??s),retryMode:e?.retryMode??(0,em.M)({...J.aK,default:async()=>(await s()).retryMode||eS.CA},e),sha256:e?.sha256??eh.k.bind(null,"sha256"),streamCollector:e?.streamCollector??eg.C,useDualstackEndpoint:e?.useDualstackEndpoint??(0,em.M)(eu.G7,o),useFipsEndpoint:e?.useFipsEndpoint??(0,em.M)(el.NL,o),userAgentAppId:e?.userAgentAppId??(0,em.M)(ed.eX,o)}};var e8=s(1205),e9=s(6925),e7=s(3969);let te=e=>{let t=e.httpAuthSchemes,s=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(e){let s=t.findIndex(t=>t.schemeId===e.schemeId);-1===s?t.push(e):t.splice(s,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){s=e},httpAuthSchemeProvider:()=>s,setCredentials(e){r=e},credentials:()=>r}},tt=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),ts=(e,t)=>{let s=Object.assign((0,e8.G)(e),(0,e7.kE)(e),(0,e9.c)(e),te(e));return t.forEach(e=>e.configure(s)),Object.assign(e,(0,e8.A)(s),(0,e7.SQ)(s),(0,e9.A)(s),tt(s))};class tr extends Y.K{constructor(...[e]){let t=e5(e||{});super(t),this.initConfig=t;let s=n(t),r=(0,H.e)(s),o=(0,J.BC)(r),i=(0,K.X)(o),a=(0,j.S8)(i),c=ts(eo((0,X.u)(a)),e?.extensions||[]);this.config=c,this.middlewareStack.use((0,B.l4)(this.config)),this.middlewareStack.use((0,N.XJ)(this.config)),this.middlewareStack.use((0,W.NQ)(this.config)),this.middlewareStack.use((0,Q.VG)(this.config)),this.middlewareStack.use((0,j.G2)(this.config)),this.middlewareStack.use((0,T.cV)(this.config)),this.middlewareStack.use((0,z.e)(this.config)),this.middlewareStack.use((0,L.t)(this.config,{httpAuthSchemeParametersProvider:es,identityProviderConfigProvider:async e=>new V.K({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,_.a)(this.config))}destroy(){super.destroy()}}}};