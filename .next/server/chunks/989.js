"use strict";exports.id=989,exports.ids=[989],exports.modules={5989:(e,t,r)=>{r.d(t,{CreateTokenCommand:()=>tm,SSOOIDCClient:()=>eT});var i=r(7383),o=r(2331),s=r(9029),n=r(9249),a=r(4797),c=r(5846),p=r(2774),d=r(1212),u=r(9043),l=r(608),h=r(9161),f=r(1055),m=r(9810),g=r(3611),S=r(1248),y=r(5070),P=r(1688),v=r(3303);let E=async(e,t,r)=>({operation:(0,P.J)(t).operation,region:await (0,v.$)(e.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),x=e=>{let t=[];return"CreateToken"===e.operation?t.push({schemeId:"smithy.api#noAuth"}):t.push({schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}),t},I=e=>Object.assign((0,y.K)(e),{authSchemePreference:(0,v.$)(e.authSchemePreference??[])}),k=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),b={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var O=r(404),A=r(6268),C=r(7668),w=r(4391),D=r(5106),$=r(3705),_=r(6461),R=r(8633),T=r(2912),j=r(4386),U=r(5314),F=r(1414),z=r(4023),G=r(5732),M=r(5628),q=r(7596),H=r(1884),V=r(1461),N=r(6258),K=r(1392),B=r(5362),L=r(2695),Q=r(7594),X=r(8593),J=r(229),W=r(2751),Y=r(2945);let Z="required",ee="argv",et="isSet",er="booleanEquals",ei="error",eo="endpoint",es="tree",en="PartitionResult",ea="getAttr",ec={[Z]:!1,type:"string"},ep={[Z]:!0,default:!1,type:"boolean"},ed={ref:"Endpoint"},eu={fn:er,[ee]:[{ref:"UseFIPS"},!0]},el={fn:er,[ee]:[{ref:"UseDualStack"},!0]},eh={},ef={fn:ea,[ee]:[{ref:en},"supportsFIPS"]},em={ref:en},eg={fn:er,[ee]:[!0,{fn:ea,[ee]:[em,"supportsDualStack"]}]},eS=[eu],ey=[el],eP=[{ref:"Region"}],ev={version:"1.0",parameters:{Region:ec,UseDualStack:ep,UseFIPS:ep,Endpoint:ec},rules:[{conditions:[{fn:et,[ee]:[ed]}],rules:[{conditions:eS,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ei},{conditions:ey,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ei},{endpoint:{url:ed,properties:eh,headers:eh},type:eo}],type:es},{conditions:[{fn:et,[ee]:eP}],rules:[{conditions:[{fn:"aws.partition",[ee]:eP,assign:en}],rules:[{conditions:[eu,el],rules:[{conditions:[{fn:er,[ee]:[!0,ef]},eg],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:eh,headers:eh},type:eo}],type:es},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ei}],type:es},{conditions:eS,rules:[{conditions:[{fn:er,[ee]:[ef,!0]}],rules:[{conditions:[{fn:"stringEquals",[ee]:[{fn:ea,[ee]:[em,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:eh,headers:eh},type:eo},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:eh,headers:eh},type:eo}],type:es},{error:"FIPS is enabled but this partition does not support FIPS",type:ei}],type:es},{conditions:ey,rules:[{conditions:[eg],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:eh,headers:eh},type:eo}],type:es},{error:"DualStack is enabled but this partition does not support DualStack",type:ei}],type:es},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:eh,headers:eh},type:eo}],type:es}],type:es},{error:"Invalid Configuration: Missing Region",type:ei}]},eE=new J.$({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),ex=(e,t={})=>eE.get(e,()=>(0,W.B)(ev,{endpointParams:e,logger:t.logger}));Y.D.aws=X.Iu;let eI=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??K.G,base64Encoder:e?.base64Encoder??B.s,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??ex,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??x,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new M.VR},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new H.o}],logger:e?.logger??new V.v,protocol:e?.protocol??new q.Q({defaultNamespace:"com.amazonaws.ssooidc"}),serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??N.e,utf8Decoder:e?.utf8Decoder??L.$,utf8Encoder:e?.utf8Encoder??Q.G});var ek=r(3950),eb=r(6504),eO=r(4731);let eA=e=>{(0,eO.H)(process.version);let t=(0,eb.j)(e),r=()=>t().then(ek.j),i=eI(e);(0,A.H)(process.version);let o={profile:e?.profile,logger:i.logger};return{...i,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,j.M)(C.I,o),bodyLengthChecker:e?.bodyLengthChecker??z.W,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,w.kk)({serviceId:i.serviceId,clientVersion:O.i8}),maxAttempts:e?.maxAttempts??(0,j.M)(m.Hs,e),region:e?.region??(0,j.M)($._c,{...$.zb,...o}),requestHandler:U.N.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,j.M)({...m.aK,default:async()=>(await r()).retryMode||G.CA},e),sha256:e?.sha256??T.k.bind(null,"sha256"),streamCollector:e?.streamCollector??F.C,useDualstackEndpoint:e?.useDualstackEndpoint??(0,j.M)(_.G7,o),useFipsEndpoint:e?.useFipsEndpoint??(0,j.M)(R.NL,o),userAgentAppId:e?.userAgentAppId??(0,j.M)(D.eX,o)}};var eC=r(1205),ew=r(6925),eD=r(3969);let e$=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,i=e.credentials;return{setHttpAuthScheme(e){let r=t.findIndex(t=>t.schemeId===e.schemeId);-1===r?t.push(e):t.splice(r,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){r=e},httpAuthSchemeProvider:()=>r,setCredentials(e){i=e},credentials:()=>i}},e_=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),eR=(e,t)=>{let r=Object.assign((0,eC.G)(e),(0,eD.kE)(e),(0,ew.c)(e),e$(e));return t.forEach(e=>e.configure(r)),Object.assign(e,(0,eC.A)(r),(0,eD.SQ)(r),(0,ew.A)(r),e_(r))};class eT extends S.K{constructor(...[e]){let t=eA(e||{});super(t),this.initConfig=t;let r=k(t),S=(0,n.e)(r),y=(0,m.BC)(S),P=(0,c.X)(y),v=(0,i.S8)(P),x=eR(I((0,f.u)(v)),e?.extensions||[]);this.config=x,this.middlewareStack.use((0,l.l4)(this.config)),this.middlewareStack.use((0,a.XJ)(this.config)),this.middlewareStack.use((0,g.NQ)(this.config)),this.middlewareStack.use((0,h.VG)(this.config)),this.middlewareStack.use((0,i.G2)(this.config)),this.middlewareStack.use((0,o.cV)(this.config)),this.middlewareStack.use((0,s.e)(this.config)),this.middlewareStack.use((0,p.t)(this.config,{httpAuthSchemeParametersProvider:E,identityProviderConfigProvider:async e=>new d.K({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,u.a)(this.config))}destroy(){super.destroy()}}var ej=r(988),eU=r(1530),eF=r(2770),ez=r(4670);class eG extends ez.s{constructor(e){super(e),Object.setPrototypeOf(this,eG.prototype)}}class eM extends eG{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,eM.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}}class eq extends eG{constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,eq.prototype),this.error=e.error,this.error_description=e.error_description}}class eH extends eG{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,eH.prototype),this.error=e.error,this.error_description=e.error_description}}class eV extends eG{constructor(e){super({name:"InternalServerException",$fault:"server",...e}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,eV.prototype),this.error=e.error,this.error_description=e.error_description}}class eN extends eG{constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,eN.prototype),this.error=e.error,this.error_description=e.error_description}}class eK extends eG{constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,eK.prototype),this.error=e.error,this.error_description=e.error_description}}class eB extends eG{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,eB.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}}class eL extends eG{constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,eL.prototype),this.error=e.error,this.error_description=e.error_description}}class eQ extends eG{constructor(e){super({name:"SlowDownException",$fault:"client",...e}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,eQ.prototype),this.error=e.error,this.error_description=e.error_description}}class eX extends eG{constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,eX.prototype),this.error=e.error,this.error_description=e.error_description}}class eJ extends eG{constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,eJ.prototype),this.error=e.error,this.error_description=e.error_description}}let eW="client",eY="error",eZ="error_description",e0="httpError",e4="reason",e3="refreshToken",e1="smithy.ts.sdk.synthetic.com.amazonaws.ssooidc",e6="com.amazonaws.ssooidc";var e8=[0,e6,"AccessToken",8,0],e9=[0,e6,"ClientSecret",8,0],e2=[0,e6,"CodeVerifier",8,0],e5=[0,e6,"IdToken",8,0],e7=[0,e6,"RefreshToken",8,0],te=[-3,e6,"AccessDeniedException",{[eY]:eW,[e0]:400},[eY,e4,eZ],[0,0,0]];eF.P.for(e6).registerError(te,eM);var tt=[-3,e6,"AuthorizationPendingException",{[eY]:eW,[e0]:400},[eY,eZ],[0,0]];eF.P.for(e6).registerError(tt,eq);var tr=[3,e6,"CreateTokenRequest",0,["clientId","clientSecret","grantType","deviceCode","code",e3,"scope","redirectUri","codeVerifier"],[0,[()=>e9,0],0,0,0,[()=>e7,0],64,0,[()=>e2,0]]],ti=[3,e6,"CreateTokenResponse",0,["accessToken","tokenType","expiresIn",e3,"idToken"],[[()=>e8,0],0,1,[()=>e7,0],[()=>e5,0]]],to=[-3,e6,"ExpiredTokenException",{[eY]:eW,[e0]:400},[eY,eZ],[0,0]];eF.P.for(e6).registerError(to,eH);var ts=[-3,e6,"InternalServerException",{[eY]:"server",[e0]:500},[eY,eZ],[0,0]];eF.P.for(e6).registerError(ts,eV);var tn=[-3,e6,"InvalidClientException",{[eY]:eW,[e0]:401},[eY,eZ],[0,0]];eF.P.for(e6).registerError(tn,eN);var ta=[-3,e6,"InvalidGrantException",{[eY]:eW,[e0]:400},[eY,eZ],[0,0]];eF.P.for(e6).registerError(ta,eK);var tc=[-3,e6,"InvalidRequestException",{[eY]:eW,[e0]:400},[eY,e4,eZ],[0,0,0]];eF.P.for(e6).registerError(tc,eB);var tp=[-3,e6,"InvalidScopeException",{[eY]:eW,[e0]:400},[eY,eZ],[0,0]];eF.P.for(e6).registerError(tp,eL);var td=[-3,e6,"SlowDownException",{[eY]:eW,[e0]:400},[eY,eZ],[0,0]];eF.P.for(e6).registerError(td,eQ);var tu=[-3,e6,"UnauthorizedClientException",{[eY]:eW,[e0]:400},[eY,eZ],[0,0]];eF.P.for(e6).registerError(tu,eX);var tl=[-3,e6,"UnsupportedGrantTypeException",{[eY]:eW,[e0]:400},[eY,eZ],[0,0]];eF.P.for(e6).registerError(tl,eJ);var th=[-3,e1,"SSOOIDCServiceException",0,[],[]];eF.P.for(e1).registerError(th,eG);var tf=[9,e6,"CreateToken",{http:["POST","/token",200]},()=>tr,()=>ti];class tm extends eU.m.classBuilder().ep(b).m(function(e,t,r,i){return[(0,ej.a)(r,e.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").sc(tf).build(){}},404:e=>{e.exports={i8:"3.929.0"}}};